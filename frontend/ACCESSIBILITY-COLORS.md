# Стратегия за цветове и достъпност (Accessibility Color Strategy)

Този документ описва новата стратегия за управление на цветовете във FootballZone.bg, целяща да елиминира проблемите със сиви текстове и да улесни бъдещи промени, като същевременно гарантира високи стандарти за достъпност.

## 1. Проблемът: "Сиви заглавия" и трудно управление

Предизвикателството беше, че въпреки многократни опити, сиви текстове продължаваха да се появяват на различни места, особено при заглавия. Това се дължеше на:
- **Глобални CSS overrides:** `!important` правила в `globals.css` пренаписваха Tailwind класовете.
- **Хардкоднати цветове:** Директно използване на `text-gray-X00` или `fill="#666"` в компоненти и SVG.
- **Липса на централизиран контрол:** Промяната на един цвят изискваше търсене и замяна на много места.

## 2. Решението: Семантични цветови токени и CSS променливи

Въвеждаме система от **семантични цветови токени**, дефинирани като CSS променливи. Това осигурява единен източник на истина за всички цветове и позволява лесни глобални промени.

### 2.1. Дефиниция на токени (`frontend/src/app/globals.css`)

В `:root` се дефинират следните CSS променливи:

```css
:root {
  /* Semantic colors */
  --color-text-heading: #000000; /* Черно за всички заглавия */
  --color-text-body: #1f2937;    /* Тъмно сиво за основен текст */
  --color-text-muted: #374151;   /* По-светло сиво за второстепенен текст */
  --color-text-accent: #059669;  /* Основен зелен акцентен цвят */
  --color-text-inverse: #ffffff; /* Бяло за текст на тъмен фон */
  
  --color-border-muted: #e5e7eb; /* Светло сиво за граници */
  --color-surface: #ffffff;      /* Основен фон за компоненти (карти, секции) */
  --color-surface-muted: #f9fafb; /* По-светъл фон за мутирани области */
}
```

### 2.2. Използване на токени в глобалния CSS

Глобалните типографски правила вече реферират тези променливи:

```css
h1, h2, h3, h4, h5, h6 {
  color: var(--color-text-heading); /* Всички заглавия са черни по подразбиране */
  /* ... други стилове ... */
}

p {
  color: var(--color-text-body); /* Основният текст е тъмно сив */
  /* ... други стилове ... */
}

.text-muted {
  color: var(--color-text-muted) !important; /* Второстепенният текст е по-светло сив */
}

small, .text-sm {
  color: var(--color-text-muted);
}

.text-xs {
  color: var(--color-text-muted);
}
```
**Важно:** `!important` за `.text-muted` е временно запазен, но ще бъде премахнат при пълна миграция към семантични Tailwind класове.

### 2.3. Премахване на глобални overrides и `!important`

Всички предишни `!important` правила, които директно пренаписваха `text-gray-X00` класове, са премахнати или коментирани. Това гарантира, че Tailwind класовете и новите семантични токени ще работят правилно.

### 2.4. Стандартизиране на заглавията

Политиката е:
- Всички заглавия (`h1`, `h2`, `h3`, `h4`, `h5`, `h6`) автоматично получават `color: var(--color-text-heading);` (т.е. черно) от глобалния CSS.
- Компонентите не трябва да прилагат `text-gray-X00` или други сиви класове към заглавия. Ако е необходимо различно оцветяване, то трябва да е чрез `text-accent` или други специфични, не-сиви класове.

### 2.5. Управление на SVG икони

Статичните SVG файлове, които съдържаха хардкоднати `fill="#666"` или `stroke="#666"`, са прегледани. Препоръчва се иконите да използват `currentColor`, така че цветът им да се наследява от текстовия цвят на родителския елемент.

## 3. Какво се промени и как действа сега

- **Няма повече "сиви заглавия":** Заглавията вече са дефинирани като черни на глобално ниво, което предотвратява появата на сиви нюанси.
- **Централизиран контрол:** Ако искаме да променим цвета на всички заглавия, това става чрез промяна на една единствена CSS променлива (`--color-text-heading`) в `globals.css`.
- **По-лесни промени:** Дизайнерските промени по цветовете вече са много по-бързи и предвидими.
- **Подобрена достъпност:** Гарантира се, че основните текстови елементи имат достатъчен контраст.
- **Чист код:** Намалява се броят на хардкоднатите цветове и `!important` правила.

## 4. Бъдещи стъпки и поддръжка

- **Пълна миграция:** Постепенно заменяне на всички `text-gray-X00` класове в компонентите със семантичните токени (`text-body`, `text-muted`, `text-accent`).
- **CI/CD охранители:** Въвеждане на статични анализатори (линтери) в CI/CD пайплайна, които да забраняват използването на `text-gray-X00`, `!important` за цветове и хардкоднати цветове в SVG.
- **Документация:** Поддържане на актуална документация за цветовите токени и тяхното използване.

## 5. Read Zone специфични подобрения

### 5.1. Scoped стилове за Read Zone

Добавена е специална зона `.read-zone` в `src/app/read/page.tsx`, която осигурява приоритетни стилове за четимост:

```css
/* Read Zone readability */
.read-zone {
  --rz-bg: var(--color-surface);
  --rz-text: var(--color-text-body);
  --rz-heading: var(--color-text-heading);
}
.read-zone h1,
.read-zone h2,
.read-zone h3,
.read-zone h4,
.read-zone h5,
.read-zone h6 { color: var(--rz-heading); }
.read-zone p,
.read-zone li,
.read-zone span { color: var(--rz-text); }
.read-zone .card { background: var(--rz-bg); }
```

### 5.2. Премахване на конфликтни глобални overrides

Премахнати са глобалните `!important` правила, които принудително задаваха бял/тъмен цвят върху grid секции и пренаписваха цветовете на Read Zone:

```css
/* Remove conflicting forced white/dark overrides for content grids */
.grid.grid-cols-1.gap-8.lg\:grid-cols-3.mb-16 h3,
.grid.grid-cols-1.gap-8.lg\:grid-cols-3.mb-16 p,
.grid.grid-cols-1.gap-8.lg\:grid-cols-3.mb-16 .text-sm div {
  color: inherit;
}
```

### 5.3. Резултат

- **Стабилна четимост:** Заглавията в Read Zone картите остават черни и текстът е стабилно четим на бял фон.
- **Приоритетни стилове:** Read Zone има свои собствени, scoped стилове, които не се влияят от глобални override-и.
- **Консистентност:** Всички текстови елементи в Read Zone следват семантичните цветови токени.
